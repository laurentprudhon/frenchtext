---

title: datasets

keywords: fastai
sidebar: home_sidebar

summary: "Set of functions used to access the french text datasets."
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 01_datasets.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>External dependencies :</p>
<blockquote><p>pip install numpy</p>
<p>pip install pandas</p>
<p>pip install pyarrow</p>
<p>pip install matplotlib</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Configure tabular data display :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="French-datasets-for-Natural-Language-Processing">French datasets for Natural Language Processing<a class="anchor-link" href="#French-datasets-for-Natural-Language-Processing">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The config object from frenchtext.core defines the directory where the datasets will be stored if you choose to download them :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">datasets</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>PosixPath(&#39;/home/laurent/.frenchtext/datasets&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can change the default location if needed :</p>
<blockquote><p>config["datasets_path"] = "/var/tmp"</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.1-List-datasets">1.1 List datasets<a class="anchor-link" href="#1.1-List-datasets">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="list_datasets" class="doc_header"><code>list_datasets</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L18" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>list_datasets</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="list_dataset_files" class="doc_header"><code>list_dataset_files</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L24" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>list_dataset_files</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">list_dataset_files</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;assurance&#39;,
 &#39;banque&#39;,
 &#39;bourse&#39;,
 &#39;comparateur&#39;,
 &#39;crédit&#39;,
 &#39;forum&#39;,
 &#39;institution&#39;,
 &#39;presse-1&#39;,
 &#39;presse-2&#39;,
 &#39;presse-3&#39;,
 &#39;presse-4&#39;,
 &#39;presse-5&#39;,
 &#39;presse-6&#39;,
 &#39;siteinfo&#39;,
 &#39;wikipedia-1&#39;,
 &#39;wikipedia-2&#39;,
 &#39;wikipedia-3&#39;,
 &#39;wikipedia-4&#39;,
 &#39;wikipedia-5&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasetsdf</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Dataset</th>
      <th>DatasetFile</th>
      <th>Website</th>
      <th>Url</th>
      <th>Scope</th>
      <th>UrlsFile</th>
      <th>Pages</th>
      <th>Words</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Assurance</td>
      <td>assurance</td>
      <td>4</td>
      <td>https://www.afer.fr/</td>
      <td>domain</td>
      <td>afer</td>
      <td>148</td>
      <td>66498</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Assurance</td>
      <td>assurance</td>
      <td>5</td>
      <td>https://www.ag2rlamondiale.fr/</td>
      <td>domain</td>
      <td>ag2rlamondiale</td>
      <td>2683</td>
      <td>1030393</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Assurance</td>
      <td>assurance</td>
      <td>6</td>
      <td>https://www.agpm.fr/</td>
      <td>domain</td>
      <td>agpm</td>
      <td>267</td>
      <td>82637</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Assurance</td>
      <td>assurance</td>
      <td>7</td>
      <td>https://www.amaguiz.com/</td>
      <td>domain</td>
      <td>amaguiz</td>
      <td>706</td>
      <td>314384</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Assurance</td>
      <td>assurance</td>
      <td>10</td>
      <td>https://www.aviva.fr/</td>
      <td>domain</td>
      <td>aviva</td>
      <td>2501</td>
      <td>792475</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>149</th>
      <td>Wikipedia</td>
      <td>wikipedia-4</td>
      <td>101</td>
      <td>https://dumps.wikimedia.org/frwiki/latest/300000</td>
      <td>path</td>
      <td>dumps-wikimedia-3</td>
      <td>91984</td>
      <td>106415763</td>
    </tr>
    <tr>
      <th>150</th>
      <td>Wikipedia</td>
      <td>wikipedia-4</td>
      <td>102</td>
      <td>https://dumps.wikimedia.org/frwiki/latest/400000</td>
      <td>path</td>
      <td>dumps-wikimedia-4</td>
      <td>64029</td>
      <td>73602244</td>
    </tr>
    <tr>
      <th>151</th>
      <td>Wikipedia</td>
      <td>wikipedia-5</td>
      <td>102</td>
      <td>https://dumps.wikimedia.org/frwiki/latest/400000</td>
      <td>path</td>
      <td>dumps-wikimedia-4</td>
      <td>35821</td>
      <td>42823357</td>
    </tr>
    <tr>
      <th>152</th>
      <td>Wikipedia</td>
      <td>wikipedia-5</td>
      <td>103</td>
      <td>https://dumps.wikimedia.org/frwiki/latest/500000</td>
      <td>path</td>
      <td>dumps-wikimedia-5</td>
      <td>99853</td>
      <td>115271107</td>
    </tr>
    <tr>
      <th>153</th>
      <td>Wikipedia</td>
      <td>wikipedia-5</td>
      <td>104</td>
      <td>https://dumps.wikimedia.org/frwiki/latest/515431</td>
      <td>path</td>
      <td>dumps-wikimedia-6</td>
      <td>15415</td>
      <td>20366639</td>
    </tr>
  </tbody>
</table>
<p>154 rows × 8 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>1) The text content of the main french websites in the domain of finance and business (+ wikipedia) were extracted in september 2019 using <a href="https://github.com/laurentprudhon/nlptextdoc">nlptextdoc</a>.</p>
<p>This extraction was done as "politely" as possible:</p>
<ul>
<li>extract only freely and publicly available content</li>
<li>respect the robots.txt directives of each website (pages forbidden for indexing, maximum extraction rate)</li>
<li>detect when websites use tools to prevent indexing (like Datadome) and abort the crawl</li>
</ul>
<p><strong>IMPORTANT: The original authors of the websites own the copyright on all text blocks in this dataset.</strong></p>
<p>To be able to link each text block to its original author, we track the origin URL of each text block throughout the whole process.</p>
<p><strong>YOU CAN'T REUSE THE TEXT BLOCKS FOR ANY PURPOSE EXCEPT TRAINING A NATURAL LANGUAGE PROCESSING MODEL.</strong></p>
<p>See the new European copyright rules : <a href="https://www.europarl.europa.eu/news/en/headlines/priorities/copyright/20190321IPR32110/european-parliament-approves-new-copyright-rules-for-the-internet">European Parliament approves new copyright rules for the internet</a></p>
<p>"<em>The directive aims to make it easier for copyrighted material to be used freely through text and data mining, thereby removing a significant competitive disadvantage that European researchers currently face.</em>"</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;=&gt; {len(datasetsdf)-23} websites and {datasetsdf[&#39;Pages&#39;].sum()} HTML pages&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>=&gt; 131 websites and 2564755 HTML pages
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>2) The text blocks were then:</p>
<ul>
<li>deduplicated to keep only distinct text blocks for each website (forgetting part of the original document structure), </li>
<li>tagged (but not filtered) by language (using <a href="https://fasttext.cc/docs/en/language-identification.html">https://fasttext.cc/docs/en/language-identification.html</a>),</li>
<li>grouped in categories according to the main theme of the original website,</li>
<li>split in <a href="https://pandas.pydata.org/">Pandas</a> dataframes of size &lt; 2 GB.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;=&gt; {len(datasetsdf[&#39;Dataset&#39;].unique())} categories: {list(datasetsdf[&#39;Dataset&#39;].unique())}&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>=&gt; 10 categories: [&#39;Assurance&#39;, &#39;Banque&#39;, &#39;Bourse&#39;, &#39;Comparateur&#39;, &#39;Crédit&#39;, &#39;Forum&#39;, &#39;Institution&#39;, &#39;Presse&#39;, &#39;SiteInfo&#39;, &#39;Wikipedia&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>3) In each dataframe, the text blocks were additionnaly <strong>SHUFFLED IN A RANDOM ORDER</strong> to make it very difficult to reconstruct the original articles (safety measure to help protect the copyrights of the authors).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The results of this second step can be downloaded in the <em>config.datasets</em> directory, as dataframes serialized in the <a href="https://arrow.apache.org/docs/python/ipc.html?highlight=feather#feather-format">feather format</a>, in files named according to the 'DatasetFile' column of the table above:</p>
<ul>
<li>['DatasetFile'].dataset.feather</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;=&gt; {len(datasetsdf[&#39;DatasetFile&#39;].unique())} dataset files: {list(datasetsdf[&#39;DatasetFile&#39;].unique())}&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>=&gt; 19 dataset files: [&#39;assurance&#39;, &#39;banque&#39;, &#39;bourse&#39;, &#39;comparateur&#39;, &#39;crédit&#39;, &#39;forum&#39;, &#39;institution&#39;, &#39;presse-1&#39;, &#39;presse-2&#39;, &#39;presse-3&#39;, &#39;presse-4&#39;, &#39;presse-5&#39;, &#39;presse-6&#39;, &#39;siteinfo&#39;, &#39;wikipedia-1&#39;, &#39;wikipedia-2&#39;, &#39;wikipedia-3&#39;, &#39;wikipedia-4&#39;, &#39;wikipedia-5&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The number of words in each text block was computed using the default french tokenizer from <a href="https://spacy.io/">spaCy</a> v2.1.</p>
<p>This business-oriented dataset contains <strong>2 billion french words</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;=&gt; Total number of words : {datasetsdf[&#39;Words&#39;].sum()}&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>=&gt; Total number of words : 2008307510
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The detailed contribution of each website (number of pages and number of french words kept after all filters) to each category can be studied in the datasetsdf table :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here is a summary of the number of words contributed by each category <strong>in millions</strong>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">datasetsdf</span><span class="p">[[</span><span class="s2">&quot;Dataset&quot;</span><span class="p">,</span><span class="s2">&quot;Words&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;Dataset&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="mi">1000000</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Words</th>
    </tr>
    <tr>
      <th>Dataset</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Assurance</th>
      <td>12.0</td>
    </tr>
    <tr>
      <th>Banque</th>
      <td>20.0</td>
    </tr>
    <tr>
      <th>Bourse</th>
      <td>26.0</td>
    </tr>
    <tr>
      <th>Comparateur</th>
      <td>20.0</td>
    </tr>
    <tr>
      <th>Crédit</th>
      <td>1.0</td>
    </tr>
    <tr>
      <th>Forum</th>
      <td>152.0</td>
    </tr>
    <tr>
      <th>Institution</th>
      <td>4.0</td>
    </tr>
    <tr>
      <th>Presse</th>
      <td>963.0</td>
    </tr>
    <tr>
      <th>SiteInfo</th>
      <td>78.0</td>
    </tr>
    <tr>
      <th>Wikipedia</th>
      <td>727.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Detailed documentation for <strong>list_datasets()</strong> :</p>
<p>list_datasets() returns one row per dataset file.</p>
<p>Columns :</p>
<ul>
<li>Dataset : 10 categories ('Assurance', 'Banque', 'Bourse', 'Comparateur', 'Crédit', 'Forum', 'Institution', 'Presse', 'SiteInfo', 'Wikipedia')</li>
</ul>
<ul>
<li>DatasetFile : 19 dataset file names, which should be passed to <strong>read_dataset_file()</strong> ('assurance', 'banque', 'bourse', 'comparateur', 'crédit', 'forum', 'institution', 'presse-1', 'presse-2', 'presse-3', 'presse-4', 'presse-5', 'presse-6', 'siteinfo', 'wikipedia-1', 'wikipedia-2', 'wikipedia-3', 'wikipedia-4', 'wikipedia-5')</li>
</ul>
<ul>
<li>Website : [only used during extraction phase] unique id for each extraction job</li>
</ul>
<ul>
<li>Url : base URL used to start crawling the website (with additional parameters when the crawl result was too big and needed to be split in several dataset files, ex : <a href="https://dumps.wikimedia.org/frwiki/latest/100000">https://dumps.wikimedia.org/frwiki/latest/100000</a> =&gt; '/10000' was added at the end of the real base URL to register the fact that the corresponding dataset file contains the first 100000 pages of the wikipedia dump)</li>
</ul>
<ul>
<li>Scope : the crawl starts at the base URL, ex : <a href="https://fr.wikipedia.org/wiki/Finance">https://fr.wikipedia.org/wiki/Finance</a>, and then is limited to one of 3 possible scopes : 'domain' = *.wikipedia.org/*, 'subdomain' : fr.wikipedia.org/*, 'path' : fr.wikipedia.org/wiki/Finance/*</li>
</ul>
<ul>
<li>UrlsFile : name of the file where the original download URLs for each text block are tracked (used by the functions read_urls() and get_url_from_rowindex())</li>
</ul>
<ul>
<li>Pages : number of pages extracted from this website</li>
</ul>
<ul>
<li>Words : number of tokens extracted from this website (according to the default spaCy tokenizer for french), enables to see the contribution of each website to the aggregated dataset</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.2-Download-datasets">1.2 Download datasets<a class="anchor-link" href="#1.2-Download-datasets">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="read_download_info" class="doc_header"><code>read_download_info</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L28" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>read_download_info</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="download_all_datasets" class="doc_header"><code>download_all_datasets</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L33" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>download_all_datasets</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="download_dataset_file" class="doc_header"><code>download_dataset_file</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L39" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>download_dataset_file</code>(<strong><code>datasetfile</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">download_dataset_file</span><span class="p">(</span><span class="s2">&quot;assurance&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Downloading dataset file : assurance (17 MB)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">download_all_datasets</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Downloading dataset file : assurance (17 MB)
Downloading dataset file : banque (28 MB)
Downloading dataset file : bourse (38 MB)
Downloading dataset file : comparateur (28 MB)
Downloading dataset file : crédit (2 MB)
Downloading dataset file : forum (220 MB)
Downloading dataset file : institution (5 MB)
Downloading dataset file : presse-1 (218 MB)
Downloading dataset file : presse-2 (196 MB)
Downloading dataset file : presse-3 (190 MB)
Downloading dataset file : presse-4 (234 MB)
Downloading dataset file : presse-5 (269 MB)
Downloading dataset file : presse-6 (334 MB)
Downloading dataset file : siteinfo (116 MB)
Downloading dataset file : wikipedia-1 (131 MB)
Downloading dataset file : wikipedia-2 (182 MB)
Downloading dataset file : wikipedia-3 (263 MB)
Downloading dataset file : wikipedia-4 (269 MB)
Downloading dataset file : wikipedia-5 (267 MB)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>ls -l <span class="o">{</span>config.datasets<span class="o">}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>total 12489728
-rw-rw-rw- 1 laurent laurent   91136056 Feb 15 21:45 assurance.dataset.feather
-rw-rw-rw- 1 laurent laurent  144616048 Feb 15 21:45 banque.dataset.feather
-rw-rw-rw- 1 laurent laurent  186553136 Feb 15 21:47 bourse.dataset.feather
-rw-rw-rw- 1 laurent laurent  145062520 Feb 15 21:48 comparateur.dataset.feather
-rw-rw-rw- 1 laurent laurent   11902488 Feb 15 21:48 crédit.dataset.feather
-rw-rw-rw- 1 laurent laurent  962874856 Feb 15 21:50 forum.dataset.feather
-rw-rw-rw- 1 laurent laurent   31609912 Feb 15 21:50 institution.dataset.feather
-rw-rw-rw- 1 laurent laurent  921930504 Feb 15 21:51 presse-1.dataset.feather
-rw-rw-rw- 1 laurent laurent  855158864 Feb 15 21:54 presse-2.dataset.feather
-rw-rw-rw- 1 laurent laurent  809591952 Feb 15 21:55 presse-3.dataset.feather
-rw-rw-rw- 1 laurent laurent  958970872 Feb 15 21:56 presse-4.dataset.feather
-rw-rw-rw- 1 laurent laurent 1153696120 Feb 15 22:01 presse-5.dataset.feather
-rw-rw-rw- 1 laurent laurent 1452331608 Feb 15 22:09 presse-6.dataset.feather
-rw-rw-rw- 1 laurent laurent  543178032 Feb 15 22:10 siteinfo.dataset.feather
-rw-rw-rw- 1 laurent laurent  549966224 Feb 15 22:10 wikipedia-1.dataset.feather
-rw-rw-rw- 1 laurent laurent  729072464 Feb 15 22:12 wikipedia-2.dataset.feather
-rw-rw-rw- 1 laurent laurent 1069759688 Feb 15 22:13 wikipedia-3.dataset.feather
-rw-rw-rw- 1 laurent laurent 1086691712 Feb 15 22:16 wikipedia-4.dataset.feather
-rw-rw-rw- 1 laurent laurent 1083060912 Feb 15 22:17 wikipedia-5.dataset.feather
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.3-Read-dataset-files">1.3 Read dataset files<a class="anchor-link" href="#1.3-Read-dataset-files">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="read_dataset_file" class="doc_header"><code>read_dataset_file</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L49" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>read_dataset_file</code>(<strong><code>datasetfile</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasetdf</span> <span class="o">=</span> <span class="n">read_dataset_file</span><span class="p">(</span><span class="s2">&quot;assurance&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Loaded dataframe for dataset assurance : 563613 text blocks
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasetdf</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Website</th>
      <th>DocId</th>
      <th>DocEltType</th>
      <th>DocEltCmd</th>
      <th>NestingLevel</th>
      <th>Text</th>
      <th>Lang</th>
      <th>Words</th>
      <th>Unique</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>11</td>
      <td>22332</td>
      <td>ListItem</td>
      <td>Text</td>
      <td>2</td>
      <td>5 tournages catastrophe pour un assureur</td>
      <td>fr</td>
      <td>6</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1</th>
      <td>74</td>
      <td>710</td>
      <td>Section</td>
      <td>Start</td>
      <td>1</td>
      <td>Tout connaitre sur la nouvelle formation post-...</td>
      <td>fr</td>
      <td>7</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2</th>
      <td>11</td>
      <td>12082</td>
      <td>TextBlock</td>
      <td>Text</td>
      <td>1</td>
      <td>Votre Agent Mandataire AXA - Civry Marie Claud...</td>
      <td>?</td>
      <td>18</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3</th>
      <td>87</td>
      <td>461</td>
      <td>TextBlock</td>
      <td>Text</td>
      <td>4</td>
      <td>60 ans et 4 mois</td>
      <td>fr</td>
      <td>5</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4</th>
      <td>7</td>
      <td>200</td>
      <td>TextBlock</td>
      <td>Text</td>
      <td>1</td>
      <td>Mon devis sur mesure</td>
      <td>fr</td>
      <td>4</td>
      <td>True</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>563608</th>
      <td>138</td>
      <td>255</td>
      <td>Section</td>
      <td>Start</td>
      <td>2</td>
      <td>Les autres pouvoirs de police</td>
      <td>fr</td>
      <td>5</td>
      <td>True</td>
    </tr>
    <tr>
      <th>563609</th>
      <td>11</td>
      <td>19483</td>
      <td>TextBlock</td>
      <td>Text</td>
      <td>1</td>
      <td>Yves Nicolau assurance Laon</td>
      <td>?</td>
      <td>4</td>
      <td>True</td>
    </tr>
    <tr>
      <th>563610</th>
      <td>106</td>
      <td>1644</td>
      <td>ListItem</td>
      <td>Text</td>
      <td>3</td>
      <td>Evènements sportifs</td>
      <td>fr</td>
      <td>2</td>
      <td>True</td>
    </tr>
    <tr>
      <th>563611</th>
      <td>58</td>
      <td>4155</td>
      <td>Section</td>
      <td>Start</td>
      <td>1</td>
      <td>Agence Groupama Chalon</td>
      <td>?</td>
      <td>3</td>
      <td>True</td>
    </tr>
    <tr>
      <th>563612</th>
      <td>10</td>
      <td>150</td>
      <td>TextBlock</td>
      <td>Text</td>
      <td>2</td>
      <td>Nos agences d'assurance Aviva à OYONNAX sont h...</td>
      <td>fr</td>
      <td>26</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
<p>563613 rows × 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <strong>dataset files</strong> contain the following columns :</p>
<ul>
<li>Website : unique <strong>id of the website</strong> (extraction job) from which the text block was extracted </li>
</ul>
<ul>
<li>DocId : unique identifier for each page of the website</li>
</ul>
<p>=&gt; these two columns can be used to join with the datasets list table and the datasets urls table</p>
<ul>
<li><p>DocEltType/DocEltCmd : Document structure delimiters and document content elements</p>
<ul>
<li>Document Start / Document End : beginning / end of a page<ul>
<li>Document Title : title of the page</li>
<li>Document Url : url of the page</li>
</ul>
</li>
<li>Section Start / Section End : chapter or section delimited in the page<ul>
<li>Section Title : title of the section</li>
<li>NestingLevel : sections can be nested at several levels of depth</li>
<li>TextBlock Text : paragraph or block of text inside a section</li>
</ul>
</li>
<li>List Start / List End : list of elements</li>
<li>NavigationList Start / NavigationList End : navigation menu<ul>
<li>ListItem Text : text of a list element   </li>
<li>NestingLevel : lists can be nested inside each other</li>
</ul>
</li>
<li>Table Start / Table End : beginning / end of a table<ul>
<li>TableHeader/TableCell Start / TableHeader/TableCell End : beginning / end of a table cell<ul>
<li>TextBlock Text : paragraph or block of text inside a table cell</li>
</ul>
</li>
<li>NestingLevel : tables can be nested inside each other</li>
</ul>
</li>
</ul>
<p>=&gt; a dataset file contains only <strong>content text blocks</strong> (Title and Text elements)</p>
</li>
</ul>
<ul>
<li>NestingLevel : the extraction algorithm (<a href="https://github.com/laurentprudhon/nlptextdoc">nlptextdoc</a>) tries very hard to preserve the hierarchical structure of the text in the source web page</li>
</ul>
<ul>
<li>Text : Unicode text for document content elements lines (DocEltCmd = 'Title' or 'Text')</li>
</ul>
<ul>
<li>Lang : language of the text block in the Text column, as detected by <a href="https://fasttext.cc/docs/en/language-identification.html">fastText</a></li>
</ul>
<ul>
<li>Words : number of words of the text block in the Text column,after tokenization by <a href="https://spacy.io/">spaCy</a></li>
</ul>
<ul>
<li><p>Unique : True for the very first occurence of the text block in the current website (extraction file), False for all subsequent occurences of this same text block in this extraction file</p>
<p>=&gt; always True because the deduplication filter was already applied when the dataset file was created</p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>ADDITIONAL INFO :</p>
<ul>
<li>the text blocks are <strong>shuffled in random order</strong> : it is impossible to rebuild the original web pages from the dataset files (by design to protect the copyrights)</li>
</ul>
<ul>
<li>only <strong>unique</strong> text blocks from each website are kept</li>
</ul>
<ul>
<li>the <strong>origin each text block is tracked</strong> with the (Website,DocId) columns =&gt; can be used to join with the urls files (again by design to protect the copyrights)</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Note</strong> : before using a dataset file to train a model, you should filter it on language and number of words.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasetdf</span><span class="p">[</span><span class="s2">&quot;Lang&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f26fb678b38&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasetdf</span><span class="p">[</span><span class="s2">&quot;Lang&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()[</span><span class="mi">2</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f26f91da240&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasetdf</span><span class="p">[</span><span class="s2">&quot;Words&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()[:</span><span class="mi">20</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f26f9171c50&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasetdf</span><span class="p">[</span><span class="n">datasetdf</span><span class="p">[</span><span class="s2">&quot;Words&quot;</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">7</span><span class="p">][</span><span class="s2">&quot;Words&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>166275</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasetdf</span><span class="p">[(</span><span class="n">datasetdf</span><span class="p">[</span><span class="s2">&quot;Words&quot;</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">7</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">datasetdf</span><span class="p">[</span><span class="s2">&quot;Words&quot;</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">20</span><span class="p">)][</span><span class="s2">&quot;Words&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>217568</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasetdf</span><span class="p">[(</span><span class="n">datasetdf</span><span class="p">[</span><span class="s2">&quot;Words&quot;</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">20</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">datasetdf</span><span class="p">[</span><span class="s2">&quot;Words&quot;</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">100</span><span class="p">)][</span><span class="s2">&quot;Words&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>166004</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasetdf</span><span class="p">[</span><span class="n">datasetdf</span><span class="p">[</span><span class="s2">&quot;Words&quot;</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">100</span><span class="p">][</span><span class="s2">&quot;Words&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>13766</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.4-Read-URLs-files">1.4 Read URLs files<a class="anchor-link" href="#1.4-Read-URLs-files">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="download_urls_file" class="doc_header"><code>download_urls_file</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L59" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>download_urls_file</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="read_urls_file" class="doc_header"><code>read_urls_file</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L69" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>read_urls_file</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>During each website extraction, a corresponding <strong>urls file</strong> was created to track the urls and stats of all documents included in the extraction.</p>
<p>A single table containing all urls for all datasets can be read with the <strong>read_urls_file()</strong> function.</p>
<p>If the urls file wasn't downloaded before, it will be automatically downloaded.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">read_urls_file</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Downloading datasets urls file (484 MB)
Done
Loaded datasets urls : 2668787 urls
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Website</th>
      <th>DocId</th>
      <th>DocUrl</th>
      <th>Words</th>
      <th>fr</th>
      <th>en</th>
      <th>de</th>
      <th>es</th>
      <th>?</th>
      <th>%fr</th>
      <th>%en</th>
      <th>%de</th>
      <th>%es</th>
      <th>%?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4</td>
      <td>1</td>
      <td>https://www.afer.fr/</td>
      <td>573.0</td>
      <td>524.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>46.0</td>
      <td>0.914485</td>
      <td>0.005236</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.080279</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4</td>
      <td>2</td>
      <td>https://www.afer.fr/afer/adhesion/</td>
      <td>74.0</td>
      <td>74.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>3</td>
      <td>https://www.afer.fr/afer/adhesion/adherent-ass...</td>
      <td>475.0</td>
      <td>457.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>13.0</td>
      <td>0.962105</td>
      <td>0.010526</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.027368</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>4</td>
      <td>https://www.afer.fr/afer/adhesion/adherer-assu...</td>
      <td>519.0</td>
      <td>519.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>5</td>
      <td>https://www.afer.fr/afer/adhesion/parrainage-a...</td>
      <td>355.0</td>
      <td>345.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>10.0</td>
      <td>0.971831</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.028169</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2668782</th>
      <td>104</td>
      <td>15427</td>
      <td>https://fr.wikipedia.org/wiki/___L_t</td>
      <td>1277.0</td>
      <td>1274.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>0.997651</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.002349</td>
    </tr>
    <tr>
      <th>2668783</th>
      <td>104</td>
      <td>15428</td>
      <td>https://fr.wikipedia.org/wiki/___r_nad_S_zavou</td>
      <td>387.0</td>
      <td>382.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>0.987080</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.012920</td>
    </tr>
    <tr>
      <th>2668784</th>
      <td>104</td>
      <td>15429</td>
      <td>https://fr.wikipedia.org/wiki/___suivre_</td>
      <td>3816.0</td>
      <td>3816.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2668785</th>
      <td>104</td>
      <td>15430</td>
      <td>https://fr.wikipedia.org/wiki/___The_Heavens_a...</td>
      <td>419.0</td>
      <td>405.0</td>
      <td>14.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.966587</td>
      <td>0.033413</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2668786</th>
      <td>104</td>
      <td>15431</td>
      <td>https://fr.wikipedia.org/wiki/____bergers__ass...</td>
      <td>795.0</td>
      <td>777.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>18.0</td>
      <td>0.977358</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.022642</td>
    </tr>
  </tbody>
</table>
<p>2668787 rows × 14 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>read_urls_file()</strong> returns one row per page extracted from a given website.</p>
<p>Columns :</p>
<ul>
<li>Website : unique <strong>id of the website</strong> (extraction job) from which the text blocks were extracted </li>
</ul>
<ul>
<li>DocId : unique identifier for each page of the website, same as 'DocId' column in extraction file</li>
</ul>
<ul>
<li>DocUrl : ansolute url (with query string) from which the page contents were extracted</li>
</ul>
<ul>
<li>Words : total number of words in the text block of this page</li>
</ul>
<ul>
<li>fr/en/es/de/? : number of words in text blocks for each language</li>
</ul>
<ul>
<li>%fr/%en/%es/%de/%? : % words in text blocks of the page for each language (can be used to filter datasets)</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.5-Utility-functions-to-use-dataset-files">1.5 Utility functions to use dataset files<a class="anchor-link" href="#1.5-Utility-functions-to-use-dataset-files">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Filter-and-iterate-over-the-rows-of-a-dataset-file">Filter and iterate over the rows of a dataset file<a class="anchor-link" href="#Filter-and-iterate-over-the-rows-of-a-dataset-file">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_rows_from_datasetdf" class="doc_header"><code>get_rows_from_datasetdf</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L80" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_rows_from_datasetdf</code>(<strong><code>datasetdf</code></strong>, <strong><code>minwords</code></strong>=<em><code>5</code></em>, <strong><code>maxwords</code></strong>=<em><code>None</code></em>, <strong><code>lang</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="show_first_rows" class="doc_header"><code>show_first_rows</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L90" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>show_first_rows</code>(<strong><code>rowsiterator</code></strong>, <strong><code>count</code></strong>=<em><code>5</code></em>, <strong><code>skip</code></strong>=<em><code>0</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rowsiterator</span> <span class="o">=</span> <span class="n">get_rows_from_datasetdf</span><span class="p">(</span><span class="n">datasetdf</span><span class="p">)</span>
<span class="n">show_first_rows</span><span class="p">(</span><span class="n">rowsiterator</span><span class="p">,</span> <span class="n">skip</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>7 - De la même manière, lorsque l’acheteur est titulaire d’un diplôme de mécanique, les juges apprécieront sa qualité de « professionnel » et pourront rejeter sa demande. En effet, ils pourront estimer qu’il aurait dû ou pu déceler le problème rencontré ultérieurement.
9 - Lorsque vous souscrivez à une assurance classique, vous avez systématiquement le choix entre plusieurs formules, qui proposent différentes garanties. Et bien, concernant les assurances auto connectée, c’est pareil. Et ce n’est pas parce qu’il y a des réductions à la clé qu’il faut en oublier de vérifier les conditions du contrat auquel vous souscrivez !
10 - Même si c’est un budget important, il vaut mieux payer en une seule fois. En effet, le paiement mensuel revient plus cher car il occasionne des frais supplémentaires.
11 - Les agences Groupama à proximité de l&#39;agence Olonzac
13 - Generali Vie applique ce transfert des plus-values latentes :
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rowsiterator</span> <span class="o">=</span> <span class="n">get_rows_from_datasetdf</span><span class="p">(</span><span class="n">datasetdf</span><span class="p">,</span> <span class="n">minwords</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">maxwords</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;?&quot;</span><span class="p">)</span>
<span class="n">show_first_rows</span><span class="p">(</span><span class="n">rowsiterator</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>12 - COORDONNEES
41 - 01 30 41 67 33
49 - Dmitriy G.
57 - Les atouts du Multisupport CONFIANCE
74 - 01XXL meribel hiver
76 - Garantie en cas de vol
87 - Par AXA, le 01/08/2016
96 - mgr@enderby.eu
127 - 18 place De Strasbourg
131 - Saint Gaudens
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Filter-and-iterate-over-the-text-blocks-of-a-full-dataset-(across-multiple-files)">Filter and iterate over the text blocks of a full dataset (across multiple files)<a class="anchor-link" href="#Filter-and-iterate-over-the-text-blocks-of-a-full-dataset-(across-multiple-files)">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_textblocks_from_dataset" class="doc_header"><code>get_textblocks_from_dataset</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L100" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_textblocks_from_dataset</code>(<strong><code>dataset</code></strong>, <strong><code>minwords</code></strong>=<em><code>5</code></em>, <strong><code>maxwords</code></strong>=<em><code>None</code></em>, <strong><code>lang</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="show_first_textblocks" class="doc_header"><code>show_first_textblocks</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L106" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>show_first_textblocks</code>(<strong><code>textiterator</code></strong>, <strong><code>count</code></strong>=<em><code>5</code></em>, <strong><code>skip</code></strong>=<em><code>0</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">textiterator</span> <span class="o">=</span> <span class="n">get_textblocks_from_dataset</span><span class="p">(</span><span class="s2">&quot;Assurance&quot;</span><span class="p">,</span> <span class="n">minwords</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">maxwords</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;fr&quot;</span><span class="p">)</span>
<span class="n">show_first_textblocks</span><span class="p">(</span><span class="n">textiterator</span><span class="p">,</span><span class="n">skip</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span><span class="n">count</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Loaded dataframe for dataset assurance : 563613 text blocks
2001 - Rééquipement à neuf à vie
2002 - Définition Conducteur secondaire- Lexique
2003 - Comment éviter les fraudes
2004 - Comment demander un remboursement santé - GENERALI
2005 - Simulateur pour connaître les obligations de votre accord de branche
2006 - Complémentaire Epargne retraite des indépendants et TNS - Malakoff Médéric
2007 - Experts-Comptables, découvrez la mission épargne salariale
2008 - Vous n’êtes pas encore client :
2009 - Actualités (Page 6) | ameli.fr | Pharmacien
2010 - Dépression : quelle prise en charge ? - Matmut
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Access-a-specific-row---Retrieve-the-Url-from-which-this-text-block-was-extracted">Access a specific row - Retrieve the Url from which this text block was extracted<a class="anchor-link" href="#Access-a-specific-row---Retrieve-the-Url-from-which-this-text-block-was-extracted">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_text_from_rowindex" class="doc_header"><code>get_text_from_rowindex</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L115" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_text_from_rowindex</code>(<strong><code>datasetdf</code></strong>, <strong><code>rowidx</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_url_from_rowindex" class="doc_header"><code>get_url_from_rowindex</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L118" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_url_from_rowindex</code>(<strong><code>datasetdf</code></strong>, <strong><code>rowidx</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_text_from_rowindex</span><span class="p">(</span><span class="n">datasetdf</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Les inondations de plaine : débordement de cours d’eau avec une durée d’immersion longue (prévisibles plusieurs jours ou heures à l’avance).&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_url_from_rowindex</span><span class="p">(</span><span class="n">datasetdf</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;https://www.maif.fr/conseils-prevention/risques-majeurs/inondation.html&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Find-text-blocks-with-a-specific-char-or-substring">Find text blocks with a specific char or substring<a class="anchor-link" href="#Find-text-blocks-with-a-specific-char-or-substring">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="find_textblocks_with_chars" class="doc_header"><code>find_textblocks_with_chars</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L129" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>find_textblocks_with_chars</code>(<strong><code>datasetdf</code></strong>, <strong><code>chars</code></strong>, <strong><code>count</code></strong>=<em><code>100</code></em>, <strong><code>ctxsize</code></strong>=<em><code>20</code></em>, <strong><code>wrap</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="getContextAroundWord" class="doc_header"><code>getContextAroundWord</code><a href="https://github.com/laurentprudhon/frenchtext/tree/master/frenchtext/datasets.py#L136" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>getContextAroundWord</code>(<strong><code>text</code></strong>, <strong><code>word</code></strong>, <strong><code>ctxsize</code></strong>=<em><code>20</code></em>, <strong><code>wrap</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">find_textblocks_with_chars</span><span class="p">(</span><span class="n">datasetdf</span><span class="p">,</span><span class="s2">&quot;rétroviseur&quot;</span><span class="p">,</span><span class="n">count</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">ctxsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>549610    ème avec votre rétroviseur, il se peut que
123839     vitre brisée, rétroviseur endommagé voire
234116    ects, dans les rétroviseurs intérieurs et 
544490    a fixation des rétroviseurs intérieurs et 
485535    essoire sur le rétroviseur intérieur      
113829    tilisation des rétroviseurs ou des clignot
560539    tionnement des rétroviseurs.              
341116     de glaces aux rétroviseurs, feux arrière 
503691    er, hormis les rétroviseurs !             
485907     ampoules, les rétroviseurs et le toit ouv
339917    liers dans les rétroviseurs… C’est une act
496069    et onéreuses : rétroviseurs électriques, r
171367    t utilisez vos rétroviseurs               
439278    ortière rayée, rétroviseur cassé, tags : l
433579    garde dans tes rétroviseurs avant d’ouvrir
452691    bilité dans le rétroviseur extérieur ou si
107934    nt varier. Les rétroviseurs et les blocs-p
155443     même pour les rétroviseurs : si vous n’av
541277    atigue dans le rétroviseur : le vôtre !   
523871     plus dans les rétroviseurs.              
Name: Text, dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">find_textblocks_with_chars</span><span class="p">(</span><span class="n">datasetdf</span><span class="p">,</span><span class="mi">64257</span><span class="p">,</span><span class="n">count</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>530109    ’à leur élimination [ﬁ]nale , même lorsque l
504865    estisseur est simpli[ﬁ]ée lorsque le bail es
143023    udiants modestes en [ﬁ]nançant des épiceries
432161    s, dont certains pro[ﬁ]ls présentent un risq
16437      et individuelle con[ﬁ]rmant ainsi sa positi
357361    r des segments spéci[ﬁ]ques ont été égalemen
479694    nt règlementaire et [ﬁ]nancier, La Mondiale 
139684    alisation. Selon la [ﬁ]scalité en vigueur au
283976    ève de la catégorie [ﬁ]scale des revenus fon
487638     la lutte contre la [ﬁ]nance de l’ombre limi
Name: Text, dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
</div>
 

